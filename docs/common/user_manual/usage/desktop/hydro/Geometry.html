

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2.4.1.2. Geometry &mdash; Hydro-UQ  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/design-tabs.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="2.4.1.3. Meshing" href="Meshing.html" />
    <link rel="prev" title="2.4.1.1. Project Settings" href="Project.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../../index.html">



  
  <img src="../../../../../_static/HydroUQ-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/Hydro/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/desktop/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/cite.html">4. How To Cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/hydroCapabilities.html">5. Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasenotes.html">6. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/hydroPlans.html">7. Release Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/glossary.html">8. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/abbreviations.html">9. Abbreviations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation/desktop/installation.html">1. Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../usage.html">2. User Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../UQ.html">2.1. UQ: Uncertainty Quantification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GI.html">2.2. GI: General Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SIM.html">2.3. SIM: Structural Model</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="EVT.html">2.4. EVT: Hydro Events</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="general.html">2.4.1. General Event (Legacy)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="Project.html">2.4.1.1. Project Settings</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">2.4.1.2. Geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="Meshing.html">2.4.1.3. Meshing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Materials.html">2.4.1.4. Materials</a></li>
<li class="toctree-l4"><a class="reference internal" href="Initial.html">2.4.1.5. Initial conditions</a></li>
<li class="toctree-l4"><a class="reference internal" href="Solver.html">2.4.1.6. Solver</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="coupled.html">2.4.2. Coupled Digital Twin</a></li>
<li class="toctree-l3"><a class="reference internal" href="MPM.html">2.4.3. Material Point Method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../FEM.html">2.5. FEM: Finite Element Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="../response/EDP.html">2.6. EDP: Demand Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../RV.html">2.7. RV: Random Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="resHydro.html">2.8. RES: Results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">3. Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/desktop/examples.html">4. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="bestpractices.html">5. Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/desktop/troubleshooting.html">6. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reqments/HydroUQ.html">7. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bugs.html">8. Bugs &amp; Feature Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="helpvideo.html">9. Video Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/uqTechnical.html">1. Dakota Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/damping.html">2. Damping Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/hydro/hazards/water.html">3. Water-borne Hazards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/hydro/swsolver/swsolver.html">4. Shallow Water Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/hydro/cfdsolver/cfdsolver.html">5. CFD Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/hydro/fvm/fvm.html">6. Finite Volume Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/hydro/mpm/mpm.html">7. Material Point Method</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_extend.html">2. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/verification/desktop/verification.html">3. Verification</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Hydro-UQ</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../usage.html"><span class="section-number">2. </span>User Interface</a> &raquo;</li>
        
          <li><a href="EVT.html"><span class="section-number">2.4. </span>EVT: Hydro Events</a> &raquo;</li>
        
          <li><a href="general.html"><span class="section-number">2.4.1. </span>General Event (Legacy)</a> &raquo;</li>
        
      <li><span class="section-number">2.4.1.2. </span>Geometry</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/common/user_manual/usage/desktop/hydro/Geometry.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="geometry">
<span id="lbl-geometry"></span><h1><span class="section-number">2.4.1.2. </span>Geometry<a class="headerlink" href="#geometry" title="Permalink to this heading">¶</a></h1>
<p>There are four aspects related to the definition of geometry, namely geometry of the ocean floor or wave flume, buildings or specimens, floating bodies, and shallow water to CFD interface. This section discusses the setup of all aspects of geometry.</p>
<div class="section" id="bathymetry">
<h2>Bathymetry<a class="headerlink" href="#bathymetry" title="Permalink to this heading">¶</a></h2>
<p>The geometry can be provided either in terms of the bathymetry of the ocean floor, an STL file, or the wave flume digital twin. The geometry definition is based on the type of <code class="docutils literal notranslate"><span class="pre">Simulation</span> <span class="pre">type</span></code> chosen in the <a class="reference internal" href="Project.html#lbl-projsett"><span class="std std-ref">Project Settings</span></a>. The geometry definition for each of the simulation types has been outlined below.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Shallow-water to CFD coupling<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">Here the user needs to select the bathymetry files and solution files related to the shallow-water solutions. At present, HydroUQ can directly read the shallow water solutions from the <code class="docutils literal notranslate"><span class="pre">GeoClaw</span></code> solver. The bathymetry can be provided in the GeoClaw format (Type 1) or the SimCenter format. Similarly, the shallow-water solutions can be provided in the GeoClaw format or the SimCenter format.</p>
<p class="sd-card-text">For more information about the GeoClaw file format, check out <a class="reference internal" href="../../../../technical_manual/desktop/hydro/swsolver/geoclaw-topo.html#lbl-geoclawtopo"><span class="std std-ref">Topography</span></a>. Similarly, for the SimCenter formats, check out <a class="reference internal" href="../../../../technical_manual/desktop/hydro/swsolver/simcenter-topo.html#lbl-simcentertopo"><span class="std std-ref">Topography: SimCenter</span></a>.</p>
<p class="sd-card-text">The other input is the direction of gravity. For this type of simulation, it is recommended to use <code class="docutils literal notranslate"><span class="pre">-z</span></code> for the gravity direction.</p>
<div class="align-center figure" id="id1">
<a class="reference internal image-reference" href="../../../../../_images/SWCFD.png"><img alt="../../../../../_images/SWCFD.png" src="../../../../../_images/SWCFD.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.1 </span><span class="caption-text">UI for loading bathymetry and shallow-water solution files</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p class="sd-card-text">Please provide as much of the bathymetry as possible. HydroUQ will crop the required areas for the CFD simulation.</p></li>
<li><p class="sd-card-text">The solution files can be large in size. Hence, it is recommended to restrict the times required for the CFD simulation only. Here, it is essential to note that the boundaries can lead to unphysical accumulation if there are excessive reflections.</p></li>
</ol>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Bathymetry<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">Here the user needs to select the bathymetry files of the ocean floor. At present, HydroUQ can directly read the bathymetry provided in the GeoClaw format (Type 1) or the SimCenter format. For more information about the GeoClaw file format, check out <a class="reference internal" href="../../../../technical_manual/desktop/hydro/swsolver/geoclaw-topo.html#lbl-geoclawtopo"><span class="std std-ref">Topography</span></a>. Similarly, for the SimCenter formats, check out <a class="reference internal" href="../../../../technical_manual/desktop/hydro/swsolver/simcenter-topo.html#lbl-simcentertopo"><span class="std std-ref">Topography: SimCenter</span></a>.</p>
<p class="sd-card-text">The other input is the direction of gravity. For this type of simulation, it is recommended to use <code class="docutils literal notranslate"><span class="pre">-z</span></code> for the gravity direction.</p>
<div class="align-center figure" id="id2">
<a class="reference internal image-reference" href="../../../../../_images/Bathy.png"><img alt="../../../../../_images/Bathy.png" src="../../../../../_images/Bathy.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.2 </span><span class="caption-text">UI for loading bathymetry of the ocean floor</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p class="sd-card-text">The entire bathymetry provided is considered for the CFD simulation. Hence, please be mindful of the model size, especially if the bathymetry is very rough. A very irregular bathymetry can require refined meshes leading to longer computational times.</p>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
STL file<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">Here the user needs to provide the <code class="docutils literal notranslate"><span class="pre">STL</span></code> files related to the geometry here of the ocean floor. In addition, it is required to provide separate <code class="docutils literal notranslate"><span class="pre">STL</span></code> files for all the boundaries and buildings. The files need to be in the ‘STL ASCII format. The files need to be named as</p>
<ol class="arabic simple">
<li><p class="sd-card-text"><strong>Entry.stl</strong> - This is the patch for the inlet of the fluid</p></li>
<li><p class="sd-card-text"><strong>Exit.stl</strong> - This is the patch for the outlet of the fluid</p></li>
<li><p class="sd-card-text"><strong>Right.stl</strong> - This is generally a wall patch on the right. Here, if one were to stand at the inlet and face the outlet, this is the wall on the right.</p></li>
<li><p class="sd-card-text"><strong>Left.stl</strong> - This is generally a wall patch on the left. Here, if one were to stand at the inlet and face the outlet, this is the wall on the left.</p></li>
<li><p class="sd-card-text"><strong>Bottom.stl</strong> - This is the ocean floor or the flume bathymetry</p></li>
<li><p class="sd-card-text"><strong>Top.stl</strong> - This is generally a surface high enough such that the air velocity does not affect the wind-water interface</p></li>
<li><p class="sd-card-text"><strong>Buildings.stl</strong> - This is the building of interest on which we aim to determine the structural response</p></li>
<li><p class="sd-card-text"><strong>Otherbuildings.stl</strong> - These are the other buildings around the structure of interest and could affect the flow around the structure of interest.</p></li>
</ol>
<p class="sd-card-text">The other input is the direction of gravity. For this type of simulation, it is recommended to use <code class="docutils literal notranslate"><span class="pre">-z</span></code> for the gravity direction.</p>
<div class="align-center figure" id="id3">
<a class="reference internal image-reference" href="../../../../../_images/STLfile.png"><img alt="../../../../../_images/STLfile.png" src="../../../../../_images/STLfile.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.3 </span><span class="caption-text">UI for loading the geometry as <code class="docutils literal notranslate"><span class="pre">STL</span></code> files</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p class="sd-card-text">It is necessary to provide each of these <code class="docutils literal notranslate"><span class="pre">STL</span></code> files separately. Hydro-UQ uses them to determine the boundary conditions accurately.</p>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Wave flume<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">This constitutes the geometric definition of the wave flume. This is the first step in the description of the digital twin for the wave flume. One of the inputs is the direction of gravity. For this type of simulation, it is recommended to use <code class="docutils literal notranslate"><span class="pre">-z</span></code> for the gravity direction.</p>
<p class="sd-card-text"><strong>Standard OSU flume</strong></p>
<p class="sd-card-text">The flume geometry can be defined using the standard flume definition. Here, a common flume geometry for the Large Wave Flume at the O.H. Hinsdale Wave Research Laboratory in Oregon State University. This is selected as shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">Flume02</span></code>.</p>
<div class="align-center figure" id="id4">
<span id="flume02"></span><a class="reference internal image-reference" href="../../../../../_images/Flume02.png"><img alt="../../../../../_images/Flume02.png" src="../../../../../_images/Flume02.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.4 </span><span class="caption-text">Using the standard wave flume geometry</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p class="sd-card-text">The geometry of the wave flume is defined by providing the coordinates of the external profile of the wave flume, as shown below.</p>
<div class="align-center figure" id="id5">
<a class="reference internal image-reference" href="../../../../../_images/WaveFlumeGeo.png"><img alt="../../../../../_images/WaveFlumeGeo.png" src="../../../../../_images/WaveFlumeGeo.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.5 </span><span class="caption-text">The coordinates representing the external profile of the wave flume</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p class="sd-card-text">The coordinates of the standard wave flume are provided below.</p>
<div class="highlight-Fortran notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mf">2.085</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">1</span><span class="mf">4.2748</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">1</span><span class="mf">4.2748</span><span class="p">,</span><span class="mf">0.1524</span>
<span class="mi">1</span><span class="mf">7.9324</span><span class="p">,</span><span class="mf">0.1524</span>
<span class="mi">2</span><span class="mf">8.9052</span><span class="p">,</span><span class="mf">1.15</span>
<span class="mi">4</span><span class="mf">3.5356</span><span class="p">,</span><span class="mf">1.7526</span>
<span class="mi">8</span><span class="mf">0.116</span><span class="p">,</span><span class="mf">1.7526</span>
<span class="mi">8</span><span class="mf">0.116</span><span class="p">,</span><span class="mf">4.572</span>
<span class="o">-</span><span class="mf">2.085</span><span class="p">,</span><span class="mf">4.572</span>
</pre></div>
</div>
<p class="sd-card-text"><strong>Definition by coordinates</strong></p>
<p class="sd-card-text">Alternatively, the user can define their own custom wave-flume geometry, as shown below. Here, the user needs to specify the <code class="docutils literal notranslate"><span class="pre">x</span></code> (along the length) and <code class="docutils literal notranslate"><span class="pre">z</span></code> (along the height) coordinates in a tabular format. Additionally, breadth also needs to be provided to define the wave flume geometry uniquely. This is similar to the geometry defined above for the standard OSU flume. HydroUQ constructs the STL files necessary for the CFD simulation process using the provided coordinates and the breadth.</p>
<div class="align-center figure" id="id6">
<a class="reference internal image-reference" href="../../../../../_images/Flume01.png"><img alt="../../../../../_images/Flume01.png" src="../../../../../_images/Flume01.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.6 </span><span class="caption-text">Defining a custom wave-flume geometry</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p class="sd-card-text">The breadth of the flume needs to be greater than 0. If the breadth is too small, this can lead to numerical issues.</p>
</div>
</div>
</details></div>
<div class="section" id="shallow-water-to-cfd-interface">
<h2>Shallow Water to CFD Interface<a class="headerlink" href="#shallow-water-to-cfd-interface" title="Permalink to this heading">¶</a></h2>
<p>The shallow-water to CFD interface can only be defined for the simulation type where CFD is used to resolve the shallow-water solutions. The interface is specified using a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file and uploaded as shown in <a class="reference internal" href="#swcfdinter"><span class="std std-numref">Fig. 2.4.1.2.7</span></a>.</p>
<div class="align-center figure" id="id7">
<span id="swcfdinter"></span><a class="reference internal image-reference" href="../../../../../_images/swcfd_Interface.png"><img alt="../../../../../_images/swcfd_Interface.png" src="../../../../../_images/swcfd_Interface.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.7 </span><span class="caption-text">Uploading the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file that defines the interface</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>Consider the problem description as shown in the <a class="reference internal" href="#swcfdinter2"><span class="std std-numref">Fig. 2.4.1.2.8</span></a>. Consider an event (earthquake on a fault or low-pressure due to a hurricane) represented by the red line on the left. The shallow-water solvers are used over the Ocean domain. In order to provide a high-fidelity solution for the structural response, the shallow-water domain is further refined using 3D CFD. The yellow boxes represent the shallow water to CFD interfaces. This interface information is provided in a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file.</p>
<div class="align-center figure" id="id8">
<span id="swcfdinter2"></span><a class="reference internal image-reference" href="../../../../../_images/SWCFD02.png"><img alt="../../../../../_images/SWCFD02.png" src="../../../../../_images/SWCFD02.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.8 </span><span class="caption-text">Visual depiction of the shallow water to CFD interface</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>A typical interface file is shown below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Entry</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="n">Exit</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span>
<span class="n">Right</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>
<span class="n">Left</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.csv</span></code> needs four patches to be explicitly defined. The first is the patch name, followed by the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> coordinates of the first and second points. The order of the points or the patches do not matter. The physical meaning of the patch names are as given below:</p>
<ol class="arabic simple">
<li><p><strong>Entry</strong> - This is the patch for the inlet of the fluid from the shallow water to the CFD domain.</p></li>
<li><p><strong>Exit</strong> - This is the patch for the fluid outlet from the CFD domain.</p></li>
<li><p><strong>Right</strong> - This is generally a patch on the right. Here, if one were to stand at the inlet and face the outlet, this is the boundary on the right.</p></li>
<li><p><strong>Left</strong> - This is generally a patch on the left. Here, if one were to stand at the inlet and face the outlet, this is the boundary on the left.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>It is necessary that the point provided to define the interface needs to be closed and a quadrilateral.</p></li>
<li><p>The patch names need to be provided to identify appropriate boundaries.</p></li>
</ol>
</div>
</div>
<div class="section" id="buildings-and-scaled-specimens">
<h2>Buildings and Scaled Specimens<a class="headerlink" href="#buildings-and-scaled-specimens" title="Permalink to this heading">¶</a></h2>
<p>Buildings or specimens can be defined in the <code class="docutils literal notranslate"><span class="pre">EVT</span></code>. It is important here to note that there can be two types of buildings: (a) Building of interest for which the structural response is measured (b) Other neighboring buildings that impact the flow fields.</p>
<p>These can either be defined manually in a tabular format or parametrically as shown in <a class="reference internal" href="#builddef"><span class="std std-numref">Fig. 2.4.1.2.9</span></a>.</p>
<div class="align-center figure" id="id9">
<span id="builddef"></span><a class="reference internal image-reference" href="../../../../../_images/Building.png"><img alt="../../../../../_images/Building.png" src="../../../../../_images/Building.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.9 </span><span class="caption-text">Building definition in the <code class="docutils literal notranslate"><span class="pre">EVT</span></code></span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="manual-definition">
<h3>Manual Definition<a class="headerlink" href="#manual-definition" title="Permalink to this heading">¶</a></h3>
<p>For the manual definition of the building, a tabular format is used for the user to specify:</p>
<ol class="arabic">
<li><p><strong>Building type (type):</strong> This refers to the shape and type of building. An index is used to identify the type of building:</p>
<ol class="arabic simple">
<li><p><strong>-2</strong>: This is the building on which the structural response is required. The building definition is as provided in the <code class="docutils literal notranslate"><span class="pre">GI</span></code> widget tab earlier. Here the building shape is generally cuboid.</p></li>
<li><p><strong>-1</strong>: This is the building on which the structural response is required. However, this is provided in the <code class="docutils literal notranslate"><span class="pre">SIM</span></code> tab as an OpenSees script for complicated building shapes. For this type of building, please also upload the <code class="docutils literal notranslate"><span class="pre">STL</span></code> file, in ASCII format, for the building shape. This is required to accurately capture the flow fields around the building.</p></li>
<li><p><strong>1</strong>: This is a building on which structural response is not desired. However, this is present in the neighborhood and can significantly affect the flow fields. The shape of the building is cuboid here.</p></li>
<li><p><strong>2</strong>: This is a building on which structural response is not desired. However, this is present in the neighborhood and can significantly affect the flow fields. The shape of the building is more complex and provided through an <code class="docutils literal notranslate"><span class="pre">STL</span></code> file in ASCII format.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At present, HydroUQ only supports one type of building to be defined using a <code class="docutils literal notranslate"><span class="pre">STL</span></code> geometry. This file needs to be in ASCII format.
This limitation will be removed in the upcoming versions.</p>
</div>
</li>
<li><p><strong>Center:</strong> This refers to the location of the building/specimen. This is defined in terms of the coordinates (<code class="docutils literal notranslate"><span class="pre">x</span></code> , <code class="docutils literal notranslate"><span class="pre">y</span></code> , <code class="docutils literal notranslate"><span class="pre">z</span></code>) or latitude-longitude depending on the type of simulation chosen earlier in <a class="reference internal" href="Project.html#lbl-projsett"><span class="std std-ref">Project Settings</span></a>. Suppose the simulation is based on shallow-water to CFD or bathymetry settings. In that case, the latitude and longitude need to be specified. Else, the position is input in terms of the coordinates.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Here, the building position refers to the center of the bottom surface of the building.
Thus, one needs to appropriately calculate the position of the building.</p>
</div>
</li>
<li><p><strong>Parameters:</strong> This refers to the building’s length, breadth, and height definition. This is required only for building types <strong>1</strong>. The parameters for the other types will be extracted either from the <code class="docutils literal notranslate"><span class="pre">STL</span></code> files or the <code class="docutils literal notranslate"><span class="pre">GI</span></code> widget tab.</p></li>
</ol>
</div>
<div class="section" id="parametric-definition">
<h3>Parametric Definition<a class="headerlink" href="#parametric-definition" title="Permalink to this heading">¶</a></h3>
<p>The parametric definition of the building is recommended for usage mainly for the flume. This is recommended for usage when all the buildings are of the same shape and size. Here, the buildings are automatically generated based on a set of parametric inputs. The building of interest is directly determined by the HydroUQ app by using the coordinate information from the <code class="docutils literal notranslate"><span class="pre">GI</span></code> tab and matching it with the nearest building. The set of parameters include:</p>
<ol class="arabic">
<li><p><strong>Number of buildings along the coast:</strong> This refers to the number of building in the direction orthogonal to the flow, i.e., between right and left interfaces or walls of the CFD domain.</p></li>
<li><p><strong>Number of buildings into the coast:</strong> This refers to the number of buildings in the flow direction, i.e., between entry and exit of the CFD domain.</p></li>
<li><p><strong>Distance from coast:</strong> This refers to the distance of the first building from (0,0).</p></li>
<li><p><strong>Distance between buildings (Side):</strong> This refers to the center-to-center distance between the buildings in the direction orthogonal to the flow.</p></li>
<li><p><strong>Distance between buildings (Front):</strong> This refers to the center-to-center distance between the buildings in the flow direction.</p></li>
<li><p><strong>Building size:</strong> Here, it is required to specify the building’s length - breadth - height. This information can be the size of the building (for those with a cuboidal shape). Alternatively, this is the box into which an irregular building can be fitted.</p></li>
<li><p><strong>Coordinate of coastline center:</strong> This refers to the center of the coastline from the global (0,0) of the domain.</p></li>
<li><p><strong>Building shape:</strong> Here, two-building shapes are possible, i.e., cuboid or user-defined as shown in <a class="reference internal" href="#buildshape"><span class="std std-numref">Fig. 2.4.1.2.10</span></a>. If the building shape is user-defined, then an <code class="docutils literal notranslate"><span class="pre">STL</span></code> file in ASCII format needs to be uploaded.</p>
<div class="align-center figure" id="id10">
<span id="buildshape"></span><a class="reference internal image-reference" href="../../../../../_images/BuildShape.png"><img alt="../../../../../_images/BuildShape.png" src="../../../../../_images/BuildShape.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.10 </span><span class="caption-text">Building shape definition in the <code class="docutils literal notranslate"><span class="pre">EVT</span></code></span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p><strong>Distribution of buildings:</strong> This refers to the distribution of the buildings. At present, this can be simple or staggered, as shown in <a class="reference internal" href="#builddist"><span class="std std-numref">Fig. 2.4.1.2.11</span></a>.</p>
<div class="align-center figure" id="id11">
<span id="builddist"></span><a class="reference internal image-reference" href="../../../../../_images/BuildDist.png"><img alt="../../../../../_images/BuildDist.png" src="../../../../../_images/BuildDist.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4.1.2.11 </span><span class="caption-text">Building distribution definition in the <code class="docutils literal notranslate"><span class="pre">EVT</span></code></span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="debris-and-floating-bodies">
<h2>Debris and Floating Bodies<a class="headerlink" href="#debris-and-floating-bodies" title="Permalink to this heading">¶</a></h2>
<p>Currently, HydroUQ  only supports floating bodies in the Material Point Method Event. This may expand to include OpenFOAM in an upcoming versions of HydroUQ app.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018-2024, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', '...', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>