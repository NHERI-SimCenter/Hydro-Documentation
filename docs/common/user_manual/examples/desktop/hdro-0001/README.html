

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>4.3. Multi-Story Shear Building - Coupled CFD-FEM Digital Twin &mdash; Hydro-UQ  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/design-tabs.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="4.4. Validation - Multiple Debris Impacts on a Raised Structure - Digital Twin (OSU LWF)" href="../hdro-0002/README.html" />
    <link rel="prev" title="4.2. Forward Sampling - Simple Piston Generated Wave - Taichi Event" href="../hdro-0010/README.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../../index.html">



  
  <img src="../../../../../_static/HydroUQ-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/Hydro/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/desktop/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/cite.html">4. How To Cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/hydroCapabilities.html">5. Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/hydro/releasenotes.html">6. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/hydroPlans.html">7. Release Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/glossary.html">8. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/abbreviations.html">9. Abbreviations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation/desktop/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/usage.html">2. User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/hydro/tools.html">3. Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">4. Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../hdro-0005/README.html">4.1. Feature - Stochastic Wave Loading on a Simple Structure - Stochastic Wave Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hdro-0010/README.html">4.2. Forward Sampling - Simple Piston Generated Wave - Taichi Event</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.3. Multi-Story Shear Building - Coupled CFD-FEM Digital Twin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">4.3.1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-up">4.3.2. Set-Up</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#model">4.3.2.1. Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#workflow">4.3.2.2. Workflow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#references">4.3.3. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hdro-0002/README.html">4.4. Validation - Multiple Debris Impacts on a Raised Structure - Digital Twin (OSU LWF)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hdro-0003/README.html">4.5. Cylinder Half-Submerged in Flow  -  UW WASIRF Twin  -  FOAMySees (OpenFOAM + OpenSees)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hdro-0004/README.html">4.6. Tsunami Debris Motion Through a Scaled Port Setting - WU TWB Digital Twin - MPM</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/hydro/bestpractices.html">5. Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/desktop/troubleshooting.html">6. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reqments/HydroUQ.html">7. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bugs.html">8. Bugs &amp; Feature Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/desktop/hydro/helpvideo.html">9. Video Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/uqTechnical.html">1. Dakota Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/damping.html">2. Damping Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/hydro/hazards/water.html">3. Water-borne Hazards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/hydro/swsolver/swsolver.html">4. Shallow Water Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/hydro/cfdsolver/cfdsolver.html">5. CFD Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/hydro/fvm/fvm.html">6. Finite Volume Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/hydro/mpm/mpm.html">7. Material Point Method</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_extend.html">2. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/verification/desktop/verification.html">3. Verification</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Hydro-UQ</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../examples.html"><span class="section-number">4. </span>Examples</a> &raquo;</li>
        
      <li><span class="section-number">4.3. </span>Multi-Story Shear Building - Coupled CFD-FEM Digital Twin</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/common/user_manual/examples/desktop/hdro-0001/README.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="multi-story-shear-building-coupled-cfd-fem-digital-twin">
<span id="hdro-0001"></span><h1><span class="section-number">4.3. </span>Multi-Story Shear Building - Coupled CFD-FEM Digital Twin<a class="headerlink" href="#multi-story-shear-building-coupled-cfd-fem-digital-twin" title="Permalink to this heading">¶</a></h1>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Problem files</p></td>
<td><p><a class="reference external" href="https://github.com/NHERI-SimCenter/HydroUQ/tree/master/Examples/hdro-0001/">HydroUQ Github Repository</a></p></td>
</tr>
</tbody>
</table>
<div class="section" id="overview">
<span id="hdro-0001-overview"></span><h2><span class="section-number">4.3.1. </span>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<p>This example uses a NHERI wave-flume digital twin, the <code class="docutils literal notranslate"><span class="pre">OSU</span> <span class="pre">LWF</span></code>, to simulate a scaled structure during wave loading in <code class="docutils literal notranslate"><span class="pre">HydroUQ</span></code>. Two-way coupled OpenFOAM-OpenSees is configured to simulate the scenario.</p>
<p>You will define a Waterborne Event (<strong>EVT</strong>) to determine the engineering demand parameters (<strong>EDP</strong>) on a specified structure, i.e. <strong>EVT</strong> –&gt; <strong>EDP</strong>,  with the following steps:</p>
<ol class="arabic simple">
<li><p>Configure a FOAMySees simulation event (<strong>EVT</strong>). This is a two-way coupling of OpenFOAM Finite Volume Method (FVM) for Computational Fluid Dynamics (CFD) and OpenSees Finite Element Analaysis (FEA) for Computational Structural Dynamics (CSD).</p></li>
<li><p>Next, the coupled model will determine floor loads on the building, also known as intensity measures (<strong>IM</strong>) in common performance-based engineering (PBE) nomenclature.</p></li>
<li><p>Then, perform an OpenSees finite element analysis (<strong>FEM</strong>) simulation of the building by taking IMs as inputs.</p></li>
<li><p>Finally, recieve engineering demand parameters (<strong>EDP</strong>) of the structural response. Though beyond this example, you can use these EDPs to perform a fragility analysis of the structure.</p></li>
</ol>
</div>
<div class="section" id="set-up">
<span id="hdro-0001-setup"></span><h2><span class="section-number">4.3.2. </span>Set-Up<a class="headerlink" href="#set-up" title="Permalink to this heading">¶</a></h2>
<p>The dataset in this example originates from experimental tests conducted in the Hinsdale Wave Research Laboratory’s Large Wave Flume at Oregon State University (<code class="docutils literal notranslate"><span class="pre">OSU</span> <span class="pre">LWF</span></code>), Corvallis, in 2020. Refer to Lewis 2023 <a class="reference internal" href="../hdro-0003/README.html#lewis2023" id="id1"><span>[Lewis2023]</span></a> and Bonus 2023 <a class="reference internal" href="#bonus2023" id="id2"><span>[Bonus2023]</span></a> for details.</p>
<div class="align-center figure" id="id3">
<span id="figcoupled"></span><a class="reference internal image-reference" href="../../../../../_images/Coupled.png"><img alt="../../../../../_images/Coupled.png" src="../../../../../_images/Coupled.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.3.2.1 </span><span class="caption-text">Coupled Digital Twin Illustration</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="model">
<h3><span class="section-number">4.3.2.1. </span>Model<a class="headerlink" href="#model" title="Permalink to this heading">¶</a></h3>
<p>This model is characterized by the parameters:</p>
<ul class="simple">
<li><p>Structural weight, <span class="math notranslate nohighlight">\(w\)</span>, in kN as a random variable with a mean of 100 kN and a standard deviation of 10 kN.</p></li>
</ul>
<p>^
.. warning:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>**Do NOT** place the files in your ``root``, ``downloads``, or ``desktop`` folder. The running application will copy every unrelated file in the directories and subdirectories multiple times.
</pre></div>
</div>
</div>
<div class="section" id="workflow">
<h3><span class="section-number">4.3.2.2. </span>Workflow<a class="headerlink" href="#workflow" title="Permalink to this heading">¶</a></h3>
<p>The inputs needed to run this example can be loaded into the HydroUQ user interface by selecting the <code class="docutils literal notranslate"><span class="pre">Coupled</span> <span class="pre">Digital</span> <span class="pre">Twin</span></code> example from the <code class="docutils literal notranslate"><span class="pre">Examples</span></code> menu at the top of the application.</p>
<p>The inputs can also be set up manually through the following steps:</p>
<ol class="arabic simple">
<li><p>Start the application and select the <strong>UQ</strong> panel:
In the <strong>UQ Method</strong> drop-down menu, select the <strong>Bayesian Calibration</strong> option. In the <strong>UQ Engine</strong> dropdown menu select <strong>UCSD-UQ</strong> option. In the <strong>Model</strong> dropdown, select the <strong>Hierarchical</strong> option. Enter the values in this panel as shown in the figure below. A brief explanation of the different user input fields can be found in the <a class="reference internal" href="../../../usage/desktop/UCSD_UQ_Hierarchical.html#lblucsdhierarchical"><span class="std std-ref">User Manual</span></a>.</p></li>
</ol>
<div class="align-center figure" id="id4">
<span id="fighbmuq"></span><a class="reference internal image-reference" href="../../../../../_images/UQ.png"><img alt="../../../../../_images/UQ.png" src="../../../../../_images/UQ.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.3.2.2.1 </span><span class="caption-text">Inputs in the UQ panel</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple">
<li><p>Next in the <strong>FEM</strong> panel:
Select <strong>OpenSees</strong> and populate the <strong>Input Script</strong> field by choosing the path to the model file.</p></li>
</ol>
<div class="align-center figure" id="id5">
<span id="fighbmfem"></span><a class="reference internal image-reference" href="../../../../../_images/FEM.png"><img alt="../../../../../_images/FEM.png" src="../../../../../_images/FEM.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.3.2.2.2 </span><span class="caption-text">Inputs in the FEM panel</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple">
<li><p>Select the <strong>RV</strong> tab from the input panel:
This panel should be pre-populated with the names of the variables that were defined in the model scripts. If not, press the <strong>Add</strong> button to create a new field to define the input random variable. Enter the same variable name, as required in the model script. For this example, choose the Normal probability distribution for all the random variables and enter the parameter values for each distribution as shown in the figures below:</p></li>
</ol>
<div class="align-center figure" id="fighbmrv">
<a class="reference internal image-reference" href="../../../../../_images/RV.png"><img alt="../../../../../_images/RV.png" src="../../../../../_images/RV.png" style="width: 600px;" /></a>
</div>
<ol class="arabic simple">
<li><p>In the <strong>EDP</strong> panel:
Create the output quantities corresponding to each of the experiments with a descriptive name, as shown in the figures below:</p></li>
</ol>
<ol class="arabic simple">
<li><p>Click on the <strong>Run</strong> button.
This will create the necessary input files to perform a Bayesian calibration of the hierarchical model, run the analysis, and display the results when the analysis is completed.</p></li>
<li><p>The <strong>RES</strong> tab will open with the workflow results when the simulation completers. The results produced are sample values drawn from the distribution that represents the aleatory uncertainty in the estimated material parameters from each of the datasets.</p></li>
</ol>
<blockquote>
<div><p>The <strong>Summary</strong> tab shows the mean, standard deviation, and coefficient of variation of each of the seven parameters of the material model that were inferred in this example.</p>
<p>In the <strong>Data Values</strong> tab of the <strong>RES</strong> panel, a chart and a table with all the sample values are shown. By clicking on the data inside the columns of the chart with the <strong>left</strong> or <strong>right</strong> mouse button (<code class="docutils literal notranslate"><span class="pre">M1</span></code> and <code class="docutils literal notranslate"><span class="pre">M2</span></code>), different chart types are created and shown in the chart area on the left.</p>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">tmp.SimCenter</span></code> directory is cleared every time the <code class="docutils literal notranslate"><span class="pre">RUN</span></code> button is clicked in <code class="docutils literal notranslate"><span class="pre">HydroUQ</span></code>. So, if you want to restart the analysis using one of the sampling results files outlined above, make sure to copy the results file to a location outside the <code class="docutils literal notranslate"><span class="pre">tmp.SimCenter</span></code> directory at the end of the analysis.</p>
</div>
</div>
</div>
<div class="section" id="references">
<span id="hdro-0001-references"></span><h2><span class="section-number">4.3.3. </span>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
<dl class="citation">
<dt class="label" id="lewis2023"><span class="brackets"><a class="fn-backref" href="#id1">Lewis2023</a></span></dt>
<dd><p>Lewis, N. (2023). Development of An Open-Source Methodology for Simulation of Civil Engineering Structures Subject to Multi-Hazards. <em>PhD thesis</em>, University of Washington, Seattle, WA. ISBN: 979-8-381408-69-0.</p>
</dd>
<dt class="label" id="bonus2023"><span class="brackets"><a class="fn-backref" href="#id2">Bonus2023</a></span></dt>
<dd><p>Bonus, J. (2023). Evaluation of Fluid-Driven Debris Impacts in a High-Performance Multi-GPU Material Point Method [University of Washington]. In ProQuest Dissertations and Theses. ISBN: 979-8-381406-66-5. <a class="reference external" href="https://www.proquest.com/dissertations-theses/evaluation-fluid-driven-debris-impacts-high/docview/2915819774/se-2?accountid=14784">https://www.proquest.com/dissertations-theses/evaluation-fluid-driven-debris-impacts-high/docview/2915819774/se-2?accountid=14784</a></p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020-2024, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', '...', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>